# CORS (Cross Origin Resource Sharing)

---

CORS는 교차 출처 리소스 공유라고도 불린다. 이는 현재 실행중인 웹 어플리케이션이 다른 출처의 자원에도 접근할 수 있도록 권한을 부여하도록 '브라우저'에 알려주는 체제이다. 기본적으로 보안상의 이유를 들어 브라우저는 스크립트에서 시작한 cross-origin HTTP Request를 제한하는데, 이 API는 자신의 출처와 동일한 리소스만을 불러올 수 있으며, 만약 다른 출처의 리소스를 불러오려 한다면 그에 해당하는 CORS 헤더를 포함하고 있는 리퀘스트를 반환해야 한다.

## script 태그에 따른 CORS 에러와 해결방법

script 태그를 사용할 때에 script의 타입이 module이라면 기본적으로 브라우저는 CORS를 적용하게 된다. 보통 라이브 서버를 사용하여 작업을 하는 경우라면 보기 힘든 에러이지만 로컬에서 작업을 할 경우 CORS에서 script가 block 당했다는 에러를 확인 할 수 있다.

이 에러는 script의 origin이 null로 잡혀있기 때문인데, script의 위치를 null 내부에서 찾으려 하기 때문에 에러를 발생시키는 것이다. 이런 번거로워 보이는 설정이 브라우저에 되어있는 까닭은 웹 앱을 통해서 사용자의 로컬에 함부로 드나들지 못하게 1차적인 보안 방법으로서 CORS가 사용되고 있기 때문이다. 이러한 상황에서 라이브 서버를 사용하게 되면 HTTP 방식으로 통신을 진행하므로 로컬과는 다르게 정상 동작하는 것을 볼 수 있다.

만약 여기에 script의 crossOver 어트리뷰트를 적용하여 해결하고자 한다면 이는 crossOver 어트리뷰트의 사용법을 잘못 이해하고 있는 것이다. crossOver의 값이 anonymous일 경우, 사용자 인증을 거치지 않고 같은 경로에서 오는 script라면 그냥 받겠다는 의미이므로 이미 로컬의 origin이 null로 설정되어있는 이상 해결 방법이 될 수 없다. 그렇다고 user-credential 값을 사용한다면 인증을 거쳐야 script를 가져올 수 있다는 의미가 되므로 이 역시 해결책이 되지는 못한다.

결과적으로 가장 확실한 방법은 가상의 서버를 이용하여 통신 환경을 갖추고 로컬에 직접적으로 접근하지 않는 것이 개발에서 가장 이상적인 방법이라고 볼 수 있다.